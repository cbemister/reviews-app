!function(e,n){"use strict";var t=["event","element","elementCTA","action","result","widgetName","widgetId","widgetState","fieldValue","formId","formEventId","value"],a=function(e){return t.forEach(function(n){"undefined"==typeof e[n]&&(e[n]=void 0)}),e},i=function(){e(document).on("trackEvent",function(e,t){if(t&&"widgetUserEvent"===t.event)n.pushToGtmDataLayer(a(t));else if(t&&t.widgetName&&t.eventName){var i=[];i.push(t.widgetName),i.push(t.eventName),i.push(t.data),i.push(t.value),i.push(!!t.noninteraction),t.hitCallback&&i.push(t.hitCallback),t.dimensionIndex&&t.dimensionValue&&(i.push("dimension"+t.dimensionIndex),i.push(t.dimensionValue)),"undefined"!=typeof ga&&ga(function(){for(var n=t.trackerIds?t.trackerIds.join():void 0,a=_.uniq(ga.getAll(),function(e){return e.get("trackingId")}),d=[],r=0;r<a.length;++r){var u=a[r],c=u.get("name"),s=u.get("trackingId");n&&n.indexOf(s)>-1?d.push(c):void 0==n&&d.push(c)}for(var r=0;r<d.length;r++){var g=d[r],l="["+ga.getByName(g).get("trackingId")+"] _"+e.type+"()",v="dimension"+t.dimensionIndex,p={hitType:"event",eventCategory:t.widgetName,eventAction:t.eventName,eventLabel:t.data,eventValue:t.value,nonInteraction:t.noninteraction||void 0,hitCallback:t.hitCallback||void 0};t.dimensionIndex&&t.dimensionValue&&(p[v]=t.dimensionValue),ga(g+".send",p),o(l,i)}})}}),e(document).on("trackSocialEvent",function(e,n){if(n&&n.network&&n.socialAction){var t=[];t.push(n.network),t.push(n.socialAction),t.push(n.opt_target),t.push(n.opt_pagePath),"undefined"!=typeof ga&&ga(function(){for(var a=ga.getAll(),i=0;i<a.length;++i){var d=a[i],r=d.get("name"),u="["+d.get("trackingId")+"] _"+e.type+"()";ga(r+".send",{hitType:"social",socialNetwork:n.network,socialAction:n.socialAction,socialTarget:n.opt_target,page:n.opt_pagePath}),o(u,t)}})}})},o=function(e,t){for(var a=[e],i=0;i<t.length;i++)a.push(t[i]);n.log(a)};e(function(){i(),e.publish("ddc-event-tracking-ready")})}(jQuery,window.DDC);